



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Fast, beautiful, dynamic, and interactive 2D water and waterfall systems for Unity">
      
      
        <link rel="canonical" href="https://haydeludos.github.io/Game2DWaterKit-Documentation/water-system/water-simulation/">
      
      
        <meta name="author" content="Haydeludos">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/logo.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.3">
    
    
      
        <title>Water Simulation - Game 2D Water Kit for Unity</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/demo.css">
    
      <link rel="stylesheet" href="../../css/pdfexport.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#tweaking-the-water-simulation" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://haydeludos.github.io/Game2DWaterKit-Documentation" title="Game 2D Water Kit for Unity" aria-label="Game 2D Water Kit for Unity" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Game 2D Water Kit for Unity
            </span>
            <span class="md-header-nav__topic">
              
                Water Simulation
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../.." class="md-tabs__link">
          Home
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" class="md-tabs__link md-tabs__link--active">
          Water System
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../waterfall-system/" class="md-tabs__link">
          Waterfall System
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../upgrade-render-pipeline/" class="md-tabs__link">
          Upgrade To URP
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../demo/" class="md-tabs__link">
          Demo
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../contact/" class="md-tabs__link">
          Get in Touch
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="https://assetstore.unity.com/packages/2d/textures-materials/water/game-2d-water-kit-118057?aid=1100l8AsD&pubref=website" class="md-tabs__link">
          Asset Store Page
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://haydeludos.github.io/Game2DWaterKit-Documentation" title="Game 2D Water Kit for Unity" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../images/logo.png" width="48" height="48">
      
    </a>
    Game 2D Water Kit for Unity
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Home
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Home
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../.." title="About" class="md-nav__link">
      About
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Water System" class="md-nav__link">
      Water System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../waterfall-system/" title="Waterfall System" class="md-nav__link">
      Waterfall System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../upgrade-render-pipeline/" title="Upgrade To URP" class="md-nav__link">
      Upgrade To URP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Water System
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Water System
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../water-visuals/" title="Water Visuals" class="md-nav__link">
      Water Visuals
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Water Simulation
      </label>
    
    <a href="./" title="Water Simulation" class="md-nav__link md-nav__link--active">
      Water Simulation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-well-cover-on-this-page" class="md-nav__link">
    What we'll cover on this page?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#buoyancy-effector-properties" class="md-nav__link">
    Buoyancy Effector Properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#waves-can-affect-rigidbody" class="md-nav__link">
    Waves Can Affect Rigidbody
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-waves" class="md-nav__link">
    Dynamic Waves
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wave-properties" class="md-nav__link">
    Wave Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-collision-ripples-properties" class="md-nav__link">
    On-Collision Ripples Properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collision-properties" class="md-nav__link">
    Collision Properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collision-filtering" class="md-nav__link">
    Collision Filtering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2d-box-collider" class="md-nav__link">
    2D Box Collider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-enter-and-on-water-exit-ripples-properties" class="md-nav__link">
    On-Water-Enter And On-Water-Exit Ripples Properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disturbance-properties" class="md-nav__link">
    Disturbance Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-enter-and-on-water-exit-events" class="md-nav__link">
    On-Water-Enter And On-Water-Exit Events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-enter-and-on-water-exit-sound-effect" class="md-nav__link">
    On-Water-Enter And On-Water-Exit Sound Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-enter-and-on-water-exit-particle-effect" class="md-nav__link">
    On-Water-Enter And On-Water-Exit Particle Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-move-ripples" class="md-nav__link">
    On-Water-Move Ripples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disturbance-properties_1" class="md-nav__link">
    Disturbance Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constant-ripples" class="md-nav__link">
    Constant Ripples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constant-ripples-time-interval" class="md-nav__link">
    Constant Ripples Time Interval
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-properties" class="md-nav__link">
    Source Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constant-ripples-disturbance-properties" class="md-nav__link">
    Constant Ripples Disturbance Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constant-ripples-sound-and-particle-effects" class="md-nav__link">
    Constant Ripples Sound And Particle Effects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#script-generated-ripples" class="md-nav__link">
    Script-Generated Ripples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#script-generated-ripples-disturbance-properties" class="md-nav__link">
    Script-Generated Ripples Disturbance Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#script-generated-ripples-sound-and-particle-effects-properties" class="md-nav__link">
    Script-Generated Ripples Sound And Particle Effects Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sine-waves" class="md-nav__link">
    Sine Waves
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../water-size-animation/" title="Water Size Animation" class="md-nav__link">
      Water Size Animation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../large-water-area-manager/" title="Large Water Area" class="md-nav__link">
      Large Water Area
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../prefab-utility/" title="Prefab Utility" class="md-nav__link">
      Prefab Utility
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Waterfall System
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Waterfall System
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../waterfall-system/" title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../waterfall-system/waterfall-visuals/" title="Waterfall Visuals" class="md-nav__link">
      Waterfall Visuals
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../waterfall-system/waterfall-simulation/" title="Waterfall Simulation" class="md-nav__link">
      Waterfall Simulation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../waterfall-system/waterfall-size-animation/" title="Waterfall Size Animation" class="md-nav__link">
      Waterfall Size Animation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../waterfall-system/prefab-utility/" title="Prefab Utility" class="md-nav__link">
      Prefab Utility
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Upgrade To URP
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Upgrade To URP
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../upgrade-render-pipeline/" title="Upgrade to URP" class="md-nav__link">
      Upgrade to URP
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Demo
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Demo
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../demo/" title="Demo" class="md-nav__link">
      Demo
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Get in Touch
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Get in Touch
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contact/" title="Get In Touch" class="md-nav__link">
      Get In Touch
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Asset Store Page
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Asset Store Page
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="https://assetstore.unity.com/packages/2d/textures-materials/water/game-2d-water-kit-118057?aid=1100l8AsD&pubref=website" title="None" class="md-nav__link">
      None
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#what-well-cover-on-this-page" class="md-nav__link">
    What we'll cover on this page?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#buoyancy-effector-properties" class="md-nav__link">
    Buoyancy Effector Properties
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#waves-can-affect-rigidbody" class="md-nav__link">
    Waves Can Affect Rigidbody
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dynamic-waves" class="md-nav__link">
    Dynamic Waves
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wave-properties" class="md-nav__link">
    Wave Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-collision-ripples-properties" class="md-nav__link">
    On-Collision Ripples Properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collision-properties" class="md-nav__link">
    Collision Properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collision-filtering" class="md-nav__link">
    Collision Filtering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2d-box-collider" class="md-nav__link">
    2D Box Collider
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-enter-and-on-water-exit-ripples-properties" class="md-nav__link">
    On-Water-Enter And On-Water-Exit Ripples Properties
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disturbance-properties" class="md-nav__link">
    Disturbance Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-enter-and-on-water-exit-events" class="md-nav__link">
    On-Water-Enter And On-Water-Exit Events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-enter-and-on-water-exit-sound-effect" class="md-nav__link">
    On-Water-Enter And On-Water-Exit Sound Effect
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-enter-and-on-water-exit-particle-effect" class="md-nav__link">
    On-Water-Enter And On-Water-Exit Particle Effect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#on-water-move-ripples" class="md-nav__link">
    On-Water-Move Ripples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#disturbance-properties_1" class="md-nav__link">
    Disturbance Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constant-ripples" class="md-nav__link">
    Constant Ripples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#constant-ripples-time-interval" class="md-nav__link">
    Constant Ripples Time Interval
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#source-properties" class="md-nav__link">
    Source Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constant-ripples-disturbance-properties" class="md-nav__link">
    Constant Ripples Disturbance Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constant-ripples-sound-and-particle-effects" class="md-nav__link">
    Constant Ripples Sound And Particle Effects
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#script-generated-ripples" class="md-nav__link">
    Script-Generated Ripples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#script-generated-ripples-disturbance-properties" class="md-nav__link">
    Script-Generated Ripples Disturbance Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#script-generated-ripples-sound-and-particle-effects-properties" class="md-nav__link">
    Script-Generated Ripples Sound And Particle Effects Properties
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sine-waves" class="md-nav__link">
    Sine Waves
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="tweaking-the-water-simulation">Tweaking The Water Simulation<a class="headerlink" href="#tweaking-the-water-simulation" title="Permanent link">&para;</a></h1>
<p><img alt="Water Simulation Preview" src="../images/simulation-preview.PNG" /></p>
<h2 id="what-well-cover-on-this-page">What we'll cover on this page?<a class="headerlink" href="#what-well-cover-on-this-page" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#buoyancy-effector-properties">Buoyancy Effector</a></li>
<li><a href="#waves-can-affect-rigidbody">Waves Can Affect Rigidbodies</a></li>
<li><a href="#dynamic-waves">Dynamic Waves</a><ul>
<li><a href="#on-collision-ripples-properties">On-Collision Ripples</a></li>
<li><a href="#constant-ripples">Constant Ripples</a></li>
<li><a href="#script-generated-ripples">Script-Generated Ripples</a></li>
</ul>
</li>
<li><a href="#sine-waves">Sine Waves</a></li>
</ul>
<p>All the water simulation properties are tweaked under the <strong>Simulation Properties</strong> in the water component inspector.</p>
<p><img alt="Water Simulation Properties" src="../images/component-simulation-properties.PNG" /></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We can use the simulation mode to quickly and easily tweak and test the water system simulation properties, in realtime, right in the edit mode without the need to switch to play mode. All we need to do is to press the <strong><em>Enter Simulation Mode</em></strong> button.</p>
<p><img alt="Water Simulation Mode" src="../images/component-simulation-mode.PNG" /></p>
</div>
<h2 id="buoyancy-effector-properties">Buoyancy Effector Properties<a class="headerlink" href="#buoyancy-effector-properties" title="Permanent link">&para;</a></h2>
<p><img alt="Water Simulation Buoyancy Effector Properties" src="../images/component-simulation-buoyancy-effector-properties.PNG" /></p>
<p>The <strong><em>Use Buoyancy Effector</em></strong> toggle controls whether or not to use a <strong>Buoyancy Effector 2D</strong> component.</p>
<p>Under the <strong>Simulation Properties</strong>, the <strong><em>Buoyancy Level</em></strong> property controls the surface location of the buoyancy effector. When rigidbodies are intersecting or below the surface level, buoyancy forces are applied to them.</p>
<p>We can set the <strong><em>Buoyancy Level</em></strong> to an arbitrary value between 0 (water's top edge) and 1 (water's bottom edge), or you can match it to one of the following options:</p>
<ul>
<li>Water Top Edge</li>
<li>Surface Level: only available when the surface is enabled in the material inspector.</li>
<li>Submerge Level: Only available when the fake perspectve effect is enabled in the material inspector.</li>
</ul>
<p><img alt="Water Simulation Buoyancy Effector Properties Options Preview" src="../images/component-simulation-buoyancy-effector-properties-options-preview.PNG" /></p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">using</span> <span class="nn">Game2DWaterKit.AttachedComponents</span><span class="p">;</span>

<span class="p">...</span>

<span class="n">waterObject</span><span class="p">.</span><span class="n">AttachedComponentsModule</span><span class="p">.</span><span class="n">BuoyancyEffectorSurfaceLevelLocation</span> <span class="p">=</span> <span class="n">WaterAttachedComponentsModule</span><span class="p">.</span><span class="n">BuoyancyEffector2DSurfaceLevelLocation</span><span class="p">.</span><span class="n">Custom</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">AttachedComponentsModule</span><span class="p">.</span><span class="n">BuoyancyEffectorSurfaceLevel</span> <span class="p">=</span> <span class="m">0.02f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h2 id="waves-can-affect-rigidbody">Waves Can Affect Rigidbody<a class="headerlink" href="#waves-can-affect-rigidbody" title="Permanent link">&para;</a></h2>
<p><img alt="Waves Can Affect Rigidbodies" src="../images/component-simulation-waves-can-affect-rigidbodies.PNG" /></p>
<p>We can make rigidbodies, that are floating on water, follow the undulations of water waves by enabling the <strong><em>Waves Can Affect Rigidbodies</em></strong> property. The <strong><em>Strength</em></strong> slider property controls the strength of the force applied to those rigidbodies.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">CanWavesAffectRigidbodies</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">WavesStrengthOnRigidbodies</span> <span class="p">=</span> <span class="m">0.6f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h2 id="dynamic-waves">Dynamic Waves<a class="headerlink" href="#dynamic-waves" title="Permanent link">&para;</a></h2>
<p>There are 3 types of dynamic waves:</p>
<ul>
<li>On-Collision Ripples</li>
<li>Constant Ripples</li>
<li>Script-Generated Ripples</li>
</ul>
<h3 id="wave-properties">Wave Properties<a class="headerlink" href="#wave-properties" title="Permanent link">&para;</a></h3>
<p><img alt="Water Simulation Custom Boundaries" src="../images/component-simulation-wave-properties.PNG" /></p>
<p>The <strong><em>Stiffness</em></strong> property controls the frequency of the wave vibration (how fast the water oscillates). A low value make the water oscillate slowly, while a high value make it oscillate quickly.</p>
<p>The <strong><em>Spread</em></strong> property controls how fast the waves propagate.</p>
<p>The <strong><em>Damping</em></strong> property controls how fast the water stops oscillating. The lower the damping value is, the longer the water keeps oscillating.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">Stiffness</span> <span class="p">=</span> <span class="m">50f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">Spread</span> <span class="p">=</span> <span class="m">50f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">Damping</span> <span class="p">=</span> <span class="m">0.05f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<p>When a wave reaches a boundary, it bounces back. And by default, the simulation boundaries are the left and the right water edges. But, we could define our own boundaries by checking the <strong><em>"Use Custom Boundaries"</em></strong> property, and defining the custom boundaries locations.</p>
<p><img alt="Water Simulation Custom Boundaries" src="../images/component-simulation-custom-boundaries.PNG" /></p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We can visualize the simulation boundaries positions in the scene view by toggling the <em>'eye icon'</em> on.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">IsUsingCustomBoundaries</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">FirstCustomBoundary</span> <span class="p">=</span> <span class="m">0.5f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">SecondCustomBoundary</span> <span class="p">=</span> <span class="p">-</span><span class="m">0.5f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<p>The <strong><em>Limit maximum disturbance</em></strong> property allows us to limit the maximum disturbance caused by different types of ripples. For instance, when two ripples happen to disturb the same surface vertex, the sum of the disturbance caused by those two ripples are added together and applied to that vertex. When this property is enabled, the resultant disturbance is clamped to the specified maximum disturbance value. So the applied disturbance to the surface vertex is never greater than the specified maximum value.</p>
<p><img alt="Water Simulation Limit Maximum Disturbance" src="../images/component-simulation-limit-maximum-disturbance.PNG" /></p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">LimitDynamicWavesDisturbance</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">SimulationModule</span><span class="p">.</span><span class="n">MaximumDynamicWavesDisturbance</span> <span class="p">=</span> <span class="m">1f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h3 id="on-collision-ripples-properties">On-Collision Ripples Properties<a class="headerlink" href="#on-collision-ripples-properties" title="Permanent link">&para;</a></h3>
<p>On-Collision Ripples are created when:</p>
<ul>
<li>A rigidbody falls into water.</li>
<li>A rigidbody gets out of water.</li>
<li>A rigidbody moves in water.</li>
</ul>
<p><img alt="Water Simulation On-Collision Ripples Properties" src="../images/component-simulation-on-collision-ripples.PNG" /></p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisonRipplesModule</span><span class="p">.</span><span class="n">IsOnWaterEnterRipplesActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisonRipplesModule</span><span class="p">.</span><span class="n">IsOnWaterExitRipplesActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisonRipplesModule</span><span class="p">.</span><span class="n">IsOnWaterMoveRipplesActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h4 id="collision-properties">Collision Properties<a class="headerlink" href="#collision-properties" title="Permanent link">&para;</a></h4>
<h5 id="collision-filtering">Collision Filtering<a class="headerlink" href="#collision-filtering" title="Permanent link">&para;</a></h5>
<p><img alt="Water Simulation On-Collision Ripples Collision Properties" src="../images/component-simulation-on-collision-ripples-collision-properties.PNG" /></p>
<p>Under the <strong>Collision Properties</strong>, the <strong><em>Collision Mask</em></strong> property controls which objects layers are able to create on-collision ripples.</p>
<p>We can also filter the rigidbodies by their depth (z-position), and as such they should have a depth value between the <strong><em>Minimum Depth</em></strong> and the <strong><em>Maximum Depth</em></strong> properties values to be able to create on-collision ripples.</p>
<p>Next, the <strong><em>Maximum Distance</em></strong> property controls the maximum distance from the water surface over which to check for collisions.</p>
<p>Lastly, the <strong><em>Ignore Triggers</em></strong> property controls whether or not a collider that is marked as "Is Trigger" can create on-collision ripples.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">CollisionMask</span> <span class="p">=</span> <span class="n">LayerMask</span><span class="p">.</span><span class="n">GetMask</span><span class="p">(</span><span class="s">&quot;Default&quot;</span><span class="p">,</span> <span class="s">&quot;TransparentFX&quot;</span><span class="p">);</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">CollisionMinimumDepth</span> <span class="p">=</span> <span class="p">-</span><span class="m">10f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">CollisionMaximumDepth</span> <span class="p">=</span> <span class="m">10f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">CollisionRaycastMaximumDistance</span> <span class="p">=</span> <span class="m">0.5f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">CollisionIgnoreTriggers</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h5 id="2d-box-collider">2D Box Collider<a class="headerlink" href="#2d-box-collider" title="Permanent link">&para;</a></h5>
<p><img alt="Water Simulation On-Collision Ripples Collision 2D Box Collider Properties" src="../images/component-simulation-on-collision-ripples-collision-properties-2d-box-collider.PNG" /></p>
<p>The water object has an attached 2D Box Collider. This collider is configured as a Trigger and has the same size as the water object. By default, the collider's top edge matches the water's top edge, so when a rigidbody crosses the water's top edge, it generates on-collision ripples.</p>
<p>We can match the collider's top edge to one of the following options:</p>
<ul>
<li>Water Top Edge</li>
<li>Surface Level: Only available when the surface is enabled in the material inspector.</li>
<li>Submerge Level: Only available when the fake perspective effect is enabled in the material inspector.</li>
</ul>
<p><img alt="Water Simulation Buoyancy Effector Properties Options Preview" src="../images/component-simulation-buoyancy-effector-properties-options-preview.PNG" /></p>
<h4 id="on-water-enter-and-on-water-exit-ripples-properties">On-Water-Enter And On-Water-Exit Ripples Properties<a class="headerlink" href="#on-water-enter-and-on-water-exit-ripples-properties" title="Permanent link">&para;</a></h4>
<p><img alt="Water Simulation On Collision Ripples On Water Enter And On Water Exit Ripples" src="../images/component-simulation-on-collision-ripples-enter-exit-ripples-properties.PNG" /></p>
<p>On-Water-Enter ripples are created when a rigidbody falls into water.</p>
<p>On-Water-Exit ripples are created when a rigidbody gets out of water.</p>
<h5 id="disturbance-properties">Disturbance Properties<a class="headerlink" href="#disturbance-properties" title="Permanent link">&para;</a></h5>
<p><img alt="Water Simulation On-Collision Ripples Disturbance Properties" src="../images/component-simulation-on-collision-ripples-enter-exit-ripples-disturbance-properties.PNG" /></p>
<p>The <strong><em>Minimum Disturbance</em></strong> and the <strong><em>Maximum Disturbance</em></strong> properties control the minimum and the maximum displacement of the water surface, respectively, when a rigidbody gets into or out of water. The <em>greater</em> the velocity of the rigidbody, the <em>greater</em> the disturbance.</p>
<p>The <strong><em>Minimum Velocity</em></strong> property controls the minimum velocity that a rigidbody hitting the water should have to cause the <strong><em>Maximum Disturbance</em></strong> to the water surface.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">MinimumDisturbance</span> <span class="p">=</span> <span class="m">0.1f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">MaximumDisturbance</span> <span class="p">=</span> <span class="m">0.6f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">MinimumVelocityToCauseMaximumDisturbance</span> <span class="p">=</span> <span class="m">5f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h5 id="on-water-enter-and-on-water-exit-events">On-Water-Enter And On-Water-Exit Events<a class="headerlink" href="#on-water-enter-and-on-water-exit-events" title="Permanent link">&para;</a></h5>
<p><img alt="On-Collision Ripples On-Water-Enter Ripples Events" src="../images/component-simulation-on-collision-ripples-enter-ripples-callbacks.PNG" /></p>
<p>The <strong><em>OnWaterEnter</em></strong> event is triggered when a rigidbody falls into water.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnter</span><span class="p">.</span><span class="n">AddListener</span><span class="p">(</span><span class="n">OnWaterEnterCallback</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

</div>
<p><img alt="On-Collision Ripples On-Water-Exit Ripples Callbacks" src="../images/component-simulation-on-collision-ripples-exit-ripples-callbacks.PNG" /></p>
<p>The <strong><em>OnWaterExit</em></strong> event is triggered when a rigidbody gets out of water.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExit</span><span class="p">.</span><span class="n">AddListener</span><span class="p">(</span><span class="n">OnWaterExitCallback</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

</div>
<div class="admonition tip">
<p class="admonition-title">Info</p>
<p>The OnCollisionRipplesModule provides a static event <code class="codehilite"><span class="nx">OnWaterEnterExit</span><span class="p">(</span><span class="nx">Game2DWater</span> <span class="nx">waterObject</span><span class="p">,</span> <span class="nx">Collider2D</span> <span class="nx">collider</span><span class="p">,</span> <span class="nx">bool</span> <span class="nx">isColliderEnteringWater</span><span class="p">)</span></code> which you can subscribe to in code.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">Game2DWaterKit</span><span class="p">;</span>

<span class="k">public</span> <span class="k">class</span> <span class="nc">CustomCollisionRipplesGenerator</span> <span class="p">:</span> <span class="n">MonoBehaviour</span>
<span class="p">{</span>
<span class="na">    [Range(0f, 1f)]</span> <span class="k">public</span> <span class="kt">float</span> <span class="n">minimumDisturbance</span> <span class="p">=</span> <span class="m">0.6f</span><span class="p">;</span>
<span class="na">    [Range(0f, 1f)]</span> <span class="k">public</span> <span class="kt">float</span> <span class="n">maximumDisturbance</span> <span class="p">=</span> <span class="m">1.0f</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">playSoundEffect</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">playParticleEffect</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
    <span class="k">public</span> <span class="kt">bool</span> <span class="n">smoothRipples</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="na">    [Range(0f, 1f)]</span> <span class="k">public</span> <span class="kt">float</span> <span class="n">smoothingFactor</span> <span class="p">=</span> <span class="m">0.8f</span><span class="p">;</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">Start</span><span class="p">()</span>
    <span class="p">{</span>
<span class="hll">        <span class="n">Game2DWaterKit</span><span class="p">.</span><span class="n">Ripples</span><span class="p">.</span><span class="n">WaterCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterExit</span><span class="p">.</span><span class="n">AddListener</span><span class="p">(</span><span class="n">GenerateWaterEnterExitRipples</span><span class="p">);</span>
</span>    <span class="p">}</span>

    <span class="k">private</span> <span class="k">void</span> <span class="nf">GenerateWaterEnterExitRipples</span><span class="p">(</span><span class="n">Game2DWater</span> <span class="n">waterObject</span><span class="p">,</span> <span class="n">Collider2D</span> <span class="n">collider</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isColliderEnteringWater</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Vector2</span> <span class="n">position</span> <span class="p">=</span> <span class="n">collider</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">;</span>
        <span class="kt">float</span> <span class="n">disturbanceFactor</span> <span class="p">=</span> <span class="n">Random</span><span class="p">.</span><span class="n">Range</span><span class="p">(</span><span class="n">minimumDisturbance</span><span class="p">,</span> <span class="n">maximumDisturbance</span><span class="p">);</span>
        <span class="kt">bool</span> <span class="n">pullWaterDown</span> <span class="p">=</span> <span class="n">isColliderEnteringWater</span><span class="p">;</span>

        <span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">GenerateRipple</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">disturbanceFactor</span><span class="p">,</span> <span class="n">pullWaterDown</span><span class="p">,</span> <span class="n">playSoundEffect</span><span class="p">,</span> <span class="n">playParticleEffect</span><span class="p">,</span> <span class="n">smoothRipples</span><span class="p">,</span> <span class="n">smoothingFactor</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
</div>
<h5 id="on-water-enter-and-on-water-exit-sound-effect">On-Water-Enter And On-Water-Exit Sound Effect<a class="headerlink" href="#on-water-enter-and-on-water-exit-sound-effect" title="Permanent link">&para;</a></h5>
<p><img alt="On-Collision Ripples On-Water-Enter On-Water-Exit Ripples Sound Effect" src="../images/component-simulation-on-collision-ripples-enter-exit-ripples-sound-effect.PNG" /></p>
<p>It is possible to specify an <strong><em>Audio Clip</em></strong> to play when a rigidbody falls into or gets out of the water.</p>
<p>The <strong><em>Pool Size</em></strong> property controls the number of audio sources to pool when the game starts playing.</p>
<p>The <strong><em>Can Expand</em></strong> property controls whether or not the number of pooled audio sources can increase at runtime if needed.</p>
<p>The <strong><em>Volume</em></strong> property controls the audio clip volume when played.</p>
<p>Concerning the audio clip pitch (playback speed), we can use a constant audio pitch by toggling the <strong><em>Constant Pitch</em></strong> property on and setting the constant audio clip pitch value.</p>
<p>But, if we would like to vary the audio clip pitch depending on the velocity of the rigidbody hitting the water, we keep the <strong><em>Constant Pitch</em></strong> property toggled off and provide a <strong><em>Minimum Pitch</em></strong> and a <strong><em>Maximum Pitch</em></strong> values instead. And in this case, the <em>greater</em> the rigidbody's velocity, the <em>lower</em> the pitch value.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1">// On-Water-Enter Sound Effect</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesSoundEffect</span><span class="p">.</span><span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesSoundEffect</span><span class="p">.</span><span class="n">AudioClip</span> <span class="p">=</span> <span class="n">audioClip</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesSoundEffect</span><span class="p">.</span><span class="n">PoolSize</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesSoundEffect</span><span class="p">.</span><span class="n">CanExpandPool</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesSoundEffect</span><span class="p">.</span><span class="n">Volume</span> <span class="p">=</span> <span class="m">0.1f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesSoundEffect</span><span class="p">.</span><span class="n">IsUsingConstantAudioPitch</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="c1">//waterObject.OnCollisionRipplesModule.OnWaterEnterRipplesSoundEffect.AudioPitch = 1f;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesSoundEffect</span><span class="p">.</span><span class="n">MinimumAudioPitch</span> <span class="p">=</span> <span class="m">0.85f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesSoundEffect</span><span class="p">.</span><span class="n">MaximumAudioPitch</span> <span class="p">=</span> <span class="m">1.15f</span><span class="p">;</span>

<span class="c1">// On-Water-Exit Sound Effect</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesSoundEffect</span><span class="p">.</span><span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesSoundEffect</span><span class="p">.</span><span class="n">AudioClip</span> <span class="p">=</span> <span class="n">audioClip</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesSoundEffect</span><span class="p">.</span><span class="n">PoolSize</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesSoundEffect</span><span class="p">.</span><span class="n">CanExpandPool</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesSoundEffect</span><span class="p">.</span><span class="n">Volume</span> <span class="p">=</span> <span class="m">0.1f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesSoundEffect</span><span class="p">.</span><span class="n">IsUsingConstantAudioPitch</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="c1">//waterObject.OnCollisionRipplesModule.OnWaterExitRipplesSoundEffect.AudioPitch = 1f;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesSoundEffect</span><span class="p">.</span><span class="n">MinimumAudioPitch</span> <span class="p">=</span> <span class="m">0.85f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesSoundEffect</span><span class="p">.</span><span class="n">MaximumAudioPitch</span> <span class="p">=</span> <span class="m">1.15f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h5 id="on-water-enter-and-on-water-exit-particle-effect">On-Water-Enter And On-Water-Exit Particle Effect<a class="headerlink" href="#on-water-enter-and-on-water-exit-particle-effect" title="Permanent link">&para;</a></h5>
<p><img alt="On-Collision Ripples On-Water-Enter On-Water-Exit Ripples Particle Effect" src="../images/component-simulation-on-collision-ripples-enter-exit-ripples-particle-effect.PNG" /></p>
<p>It is possible to specify a <strong><em>Particle System</em></strong> to play when a rigidbody falls into or gets out of the water.</p>
<p>The <strong><em>Pool Size</em></strong> property controls the number of particle systems to pool when the game starts playing.</p>
<p>The <strong><em>Can Expand</em></strong> property controls whether or not the number of pooled particle systems can increase at runtime if needed.</p>
<p>The <strong><em>Spawn Offset</em></strong> property controls how much to shift the particle system spawn position.</p>
<p>Lastly, the <strong><em>StopAction</em></strong> event is triggered whenever a particle system ends playing.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="c1">// On-Water-Enter Particle Effect</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesParticleEffect</span><span class="p">.</span><span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesParticleEffect</span><span class="p">.</span><span class="n">ParticleSystem</span> <span class="p">=</span> <span class="n">particleSystem</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesParticleEffect</span><span class="p">.</span><span class="n">PoolSize</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesParticleEffect</span><span class="p">.</span><span class="n">CanExpandPool</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesParticleEffect</span><span class="p">.</span><span class="n">SpawnOffset</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector3</span><span class="p">(</span><span class="m">0f</span><span class="p">,</span> <span class="p">-</span><span class="m">0.55f</span><span class="p">,</span> <span class="m">0.03f</span><span class="p">);</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterEnterRipplesParticleEffect</span><span class="p">.</span><span class="n">StopAction</span><span class="p">.</span><span class="n">AddListener</span><span class="p">(</span><span class="n">OnParticleEffectStopAction</span><span class="p">);</span>

<span class="c1">// On-Water-Exit Particle Effect</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesParticleEffect</span><span class="p">.</span><span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesParticleEffect</span><span class="p">.</span><span class="n">ParticleSystem</span> <span class="p">=</span> <span class="n">particleSystem</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesParticleEffect</span><span class="p">.</span><span class="n">PoolSize</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesParticleEffect</span><span class="p">.</span><span class="n">CanExpandPool</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesParticleEffect</span><span class="p">.</span><span class="n">SpawnOffset</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Vector3</span><span class="p">(</span><span class="m">0f</span><span class="p">,</span> <span class="p">-</span><span class="m">0.55f</span><span class="p">,</span> <span class="m">0.03f</span><span class="p">);</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisionRipplesModule</span><span class="p">.</span><span class="n">OnWaterExitRipplesParticleEffect</span><span class="p">.</span><span class="n">StopAction</span><span class="p">.</span><span class="n">AddListener</span><span class="p">(</span><span class="n">OnParticleEffectStopAction</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

</div>
<h4 id="on-water-move-ripples">On-Water-Move Ripples<a class="headerlink" href="#on-water-move-ripples" title="Permanent link">&para;</a></h4>
<p>On-Water-Move ripples are created when a rigidbody, that is floating on water, moves.</p>
<p><img alt="Water Simulation On Collision Ripples On Water Move Ripples" src="../images/component-simulation-on-collision-ripples-move-ripples-properties.PNG" /></p>
<h5 id="disturbance-properties_1">Disturbance Properties<a class="headerlink" href="#disturbance-properties_1" title="Permanent link">&para;</a></h5>
<p>The <strong><em>Maximum Disturbance</em></strong> property controls the maximum displacement of the water surface when a rigidbody moves in water. The <em>greater</em> the horizontal velocity of the rigidbody, the <em>greater</em> the disturbance.</p>
<p>The <strong><em>Minimum Velocity</em></strong> property controls the minimum horizontal velocity that a rigidbody should have to cause the <strong><em>Maximum Disturbance</em></strong> to the water surface.</p>
<p>The <strong><em>Smoothing Factor</em></strong> property controls how much to disturb neighbor surface vertices in order to create a smoother-looking ripple.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisonRipplesModule</span><span class="p">.</span><span class="n">OnWaterMoveRipplesMaximumDisturbance</span> <span class="p">=</span> <span class="m">0.1f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisonRipplesModule</span><span class="p">.</span><span class="n">OnWaterMoveRipplesMinimumVelocityToCauseMaximumDisturbance</span> <span class="p">=</span> <span class="m">6f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">OnCollisonRipplesModule</span><span class="p">.</span><span class="n">OnWaterMoveRipplesDisturbanceSmoothFactor</span> <span class="p">=</span> <span class="m">0.8f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h3 id="constant-ripples">Constant Ripples<a class="headerlink" href="#constant-ripples" title="Permanent link">&para;</a></h3>
<p>Constant Ripples are created at regular time intervals.</p>
<p><img alt="Water Simulation Constant Ripples Properties" src="../images/component-simulation-constant-ripples.PNG" /></p>
<p>The <strong><em>Continue creating ripples when off-screen</em></strong> property controls whether or not the water script keeps creating ripples even when the water object is not visible to any camera.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">UpdateWhenOffscreen</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h4 id="constant-ripples-time-interval">Constant Ripples Time Interval<a class="headerlink" href="#constant-ripples-time-interval" title="Permanent link">&para;</a></h4>
<p><img alt="Water Simulation Constant Ripples Time Interval Properties" src="../images/component-simulation-constant-ripples-time-interval.PNG" /></p>
<p>We could specify a fixed time interval, or just provide the minimum and the maximum time intervals and let the water script pick a random time interval each time ripples are created.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">RandomizeTimeInterval</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="c1">//waterObject.ConstantRipplesModule.TimeInterval = 0.5f;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">MinimumTimeInterval</span> <span class="p">=</span> <span class="m">0.5f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">MaximumTimeInterval</span> <span class="p">=</span> <span class="m">1f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h4 id="source-properties">Source Properties<a class="headerlink" href="#source-properties" title="Permanent link">&para;</a></h4>
<p>A constant ripple originates from the disturbance of a surface vertex, which we will refer to as the ripple source.</p>
<p><img alt="Water Simulation Constant Ripples Time Interval Properties" src="../images/component-simulation-constant-ripples-sources-positions-random.PNG" /></p>
<p>If the <strong><em>Randomize Source</em></strong> property is toggled on, the water script will randomly pick <strong><em>"Ripples Source Count"</em></strong> surface vertices, and disturb them.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">RandomizeRipplesSourcePositions</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">RandomRipplesSourceCount</span> <span class="p">=</span> <span class="m">8</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<p><img alt="Water Simulation Constant Ripples Time Interval Properties" src="../images/component-simulation-constant-ripples-sources-positions-non-random.PNG" /></p>
<p>But if the <strong><em>Randomize Source</em></strong> property is left toggled off, we select the surface vertices ourselves in the scene-view.</p>
<p><img alt="Water Simulation Constant Ripples Source Positions Selection In Scene View" src="../images/scene-view-simulation-constant-ripples-sources-positions.PNG" /></p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The green and the red dots in the scene-view represent the water mesh surface vertices. Clicking the green dot adds the surface vertex to the ripples source positions list, and clicking the red dot removes it from the list.</p>
</div>
<p>The <strong><em>Allow Duplicate Positions</em></strong> property controls whether or not to disturb a surface vertex, that is present in ripples source positions list multiple times, more than once.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">RandomizeRipplesSourcePositions</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SourcePositions</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="k">new</span> <span class="n">Vector3</span><span class="p">(-</span><span class="m">5.35f</span><span class="p">,</span> <span class="m">0.87f</span><span class="p">,</span> <span class="m">0f</span><span class="p">));</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">AllowDuplicateRipplesSourcePositions</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h4 id="constant-ripples-disturbance-properties">Constant Ripples Disturbance Properties<a class="headerlink" href="#constant-ripples-disturbance-properties" title="Permanent link">&para;</a></h4>
<p><img alt="Water Simulation Constant Ripples Disturbance Properties" src="../images/component-simulation-constant-ripples-disturbance.PNG" /></p>
<p>We could specify a fixed disturbance value, or just provide the minimum and the maximum disturbance values and let the water script pick a random disturbance value each time ripples are created.</p>
<p>If the <strong><em>Smooth Ripples</em></strong> is toggled on, the ripple source as well as its neighbor surface vertices are disturbed to form a <em>smoother</em> ripple. The <strong><em>Smoothing Factor</em></strong> property controls the amount of disturbance to apply to neighbor vertices, and then how smooth the created ripple looks.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">RandomizeDisturbance</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="c1">//waterObject.ConstantRipplesModule.Disturbance = 0.10f;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">MinimumDisturbance</span> <span class="p">=</span> <span class="m">0.08f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">MaximumDisturbance</span> <span class="p">=</span> <span class="m">0.12f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SmoothRipples</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SmoothingFactor</span> <span class="p">=</span> <span class="m">0.125f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h4 id="constant-ripples-sound-and-particle-effects">Constant Ripples Sound And Particle Effects<a class="headerlink" href="#constant-ripples-sound-and-particle-effects" title="Permanent link">&para;</a></h4>
<p><img alt="Water Simulation Constant Ripples Sound And Particle Effect" src="../images/component-simulation-constant-ripples-sound-particle-effects.PNG" /></p>
<p>As was the case with on-collision ripples, we could activate a sound and a particle effects to play whenever a constant ripple is created.</p>
<p>The description of the constant ripples sound and particle effects properties is exactly the same as the on-collision ripples, as discussed <a href="#on-water-enter-and-on-water-exit-sound-effect">here</a>.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference - Sound Effect Properties</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">AudioClip</span> <span class="p">=</span> <span class="n">audioClip</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">PoolSize</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">CanExpandPool</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">Volume</span> <span class="p">=</span> <span class="m">1f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">IsUsingConstantAudioPitch</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="c1">//waterObject.ConstantRipplesModule.SoundEffect.AudioPitch = 1f;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">MinimumAudioPitch</span> <span class="p">=</span> <span class="m">0.75f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">MaximumAudioPitch</span> <span class="p">=</span> <span class="m">1.25f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<div class="admonition info">
<p class="admonition-title">Script Reference - Particle Effect Properties</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">ParticleSystem</span> <span class="p">=</span> <span class="n">particleSystem</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">PoolSize</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">CanExpandPool</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">SpawnOffset</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ConstantRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">StopAction</span><span class="p">.</span><span class="n">AddListener</span><span class="p">(</span><span class="n">OnParticleEffectStopAction</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

</div>
<h3 id="script-generated-ripples">Script-Generated Ripples<a class="headerlink" href="#script-generated-ripples" title="Permanent link">&para;</a></h3>
<p><img alt="Water Simulation Script Generated Ripples Properties" src="../images/component-simulation-script-generated-ripples-properties.PNG" /></p>
<p>Script-Generated ripples are created in code by calling the GenerateRipple() method.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="k">namespace</span> <span class="nn">Game2DWaterKit.DemoTutorial</span>
<span class="p">{</span>
    <span class="k">using</span> <span class="nn">UnityEngine</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">class</span> <span class="nc">RipplesGenerator</span> <span class="p">:</span> <span class="n">MonoBehavior</span>
    <span class="p">{</span>
        <span class="k">private</span> <span class="n">Camera</span> <span class="n">_mainCamera</span><span class="p">;</span>

        <span class="k">public</span> <span class="n">Game2DWater</span> <span class="n">waterObject</span><span class="p">;</span>

<span class="na">        [Range(0f,1f)]</span> <span class="k">public</span> <span class="kt">float</span> <span class="n">disturbanceFactor</span> <span class="p">=</span> <span class="m">0.5f</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">bool</span> <span class="n">pullWaterDown</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">bool</span> <span class="n">playSoundEffect</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">bool</span> <span class="n">playParticleEffect</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="k">public</span> <span class="kt">bool</span> <span class="n">smoothRipple</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="na">        [Range(0f,1f)]</span> <span class="k">public</span> <span class="kt">float</span> <span class="n">smoothingFactor</span> <span class="p">=</span> <span class="m">0.5f</span><span class="p">;</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">Awake</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="n">_mainCamera</span> <span class="p">=</span> <span class="n">Camera</span><span class="p">.</span><span class="n">main</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">private</span> <span class="k">void</span> <span class="nf">Update</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">GetMouseButtonDown</span><span class="p">(</span><span class="m">0</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">waterObject</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Vector2</span> <span class="n">position</span> <span class="p">=</span> <span class="n">_mainCamera</span><span class="p">.</span><span class="n">ScreenToWorldPoint</span><span class="p">(</span><span class="n">Input</span><span class="p">.</span><span class="n">mousePosition</span><span class="p">);</span>

                <span class="c1">// Create ripple</span>
                <span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">GenerateRipple</span><span class="p">(</span><span class="n">position</span><span class="p">,</span> <span class="n">disturbanceFactor</span><span class="p">,</span> <span class="n">pullWaterDown</span><span class="p">,</span> <span class="n">playSoundEffect</span><span class="p">,</span> <span class="n">playParticleEffect</span><span class="p">,</span> <span class="n">smoothRipple</span><span class="p">,</span> <span class="n">smoothingFactor</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>

</div>
<p>The GenerateRipple() method takes 7 parameters:</p>
<ul>
<li><strong>Position:</strong> [Vector2] controls the position where we would like to create the ripple. The nearest surface vertex to this position is disturbed.</li>
<li>
<p><strong>Disturbance Factor:</strong> [Float, Range: 0..1] controls the amount of disturbance to apply to the water surface. The actual applied disturbance is computed by interpolating the <strong><em>Minimum Disturbance</em></strong> and the <strong><em>Maximum Disturbance</em></strong> by this factor.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The <strong><em>Minimum Disturbance</em></strong> and the <strong><em>Maximum Disturbance</em></strong> are set in the inspector. We'll see them shortly.</p>
</div>
</li>
<li>
<p><strong>PullWaterDown:</strong> [Bool] controls whether the water surface is pulled down or pushed up when creating the ripple. This mimics an object falling into water or getting out of water, respectively.</p>
</li>
<li><strong>PlaySoundEffect:</strong> [Bool] controls whether or not to play the sound effect.</li>
<li>
<p><strong>PlayParticleEffect:</strong> [Bool] controls whether or not to play the particle effect.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>The sound and the particle effects properties are set in the inspector. We'll see them shortly.</p>
</div>
</li>
<li>
<p><strong>SmoothRipple:</strong> [Bool] controls whether or not to disturb neighbor surface vertices in order to create a smoother ripple.</p>
</li>
<li><strong>Smoothing Factor:</strong> [Float, range: 0..1] controls the amount of disturbance to apply to neighbor vertices.</li>
</ul>
<h4 id="script-generated-ripples-disturbance-properties">Script-Generated Ripples Disturbance Properties<a class="headerlink" href="#script-generated-ripples-disturbance-properties" title="Permanent link">&para;</a></h4>
<p><img alt="Water Simulation Script Generated Ripples Disturbance Properties" src="../images/component-simulation-script-generated-ripples-disturbance.PNG" /></p>
<p>We set the <strong><em>Minimum Disturbance</em></strong> and the <strong><em>Maximum Disturbance</em></strong> properties in the inspector.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">MinimumDisturbance</span> <span class="p">=</span> <span class="m">0.1f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">MaximumDisturbance</span> <span class="p">=</span> <span class="m">0.75f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<h4 id="script-generated-ripples-sound-and-particle-effects-properties">Script-Generated Ripples Sound And Particle Effects Properties<a class="headerlink" href="#script-generated-ripples-sound-and-particle-effects-properties" title="Permanent link">&para;</a></h4>
<p><img alt="Water Simulation Script Generated Ripples Sound And Particle Effects Properties" src="../images/component-simulation-script-generated-ripples-sound-particle-effects.PNG" /></p>
<p>The description of the script-generated ripples sound and particle effects properties is exactly the same as the on-collision ripples, as discussed <a href="#on-water-enter-and-on-water-exit-sound-effect">here</a>.</p>
<div class="admonition info">
<p class="admonition-title">Script Reference - Sound Effect Properties</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">AudioClip</span> <span class="p">=</span> <span class="n">audioClip</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">PoolSize</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">CanExpandPool</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">Volume</span> <span class="p">=</span> <span class="m">1f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">IsUsingConstantAudioPitch</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="c1">//waterObject.ScriptGeneratedRipplesModule.SoundEffect.AudioPitch = 1f;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">MinimumAudioPitch</span> <span class="p">=</span> <span class="m">0.75f</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">SoundEffect</span><span class="p">.</span><span class="n">MaximumAudioPitch</span> <span class="p">=</span> <span class="m">1.25f</span><span class="p">;</span>
</code></pre></div>
</td></tr></table>

</div>
<div class="admonition info">
<p class="admonition-title">Script Reference - Particle Effect Properties</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><code><span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">IsActive</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">ParticleSystem</span> <span class="p">=</span> <span class="n">particleSystem</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">PoolSize</span> <span class="p">=</span> <span class="m">10</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">CanExpandPool</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">SpawnOffset</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
<span class="n">waterObject</span><span class="p">.</span><span class="n">ScriptGeneratedRipplesModule</span><span class="p">.</span><span class="n">ParticleEffect</span><span class="p">.</span><span class="n">StopAction</span><span class="p">.</span><span class="n">AddListener</span><span class="p">(</span><span class="n">OnParticleEffectStopAction</span><span class="p">);</span>
</code></pre></div>
</td></tr></table>

</div>
<h2 id="sine-waves">Sine Waves<a class="headerlink" href="#sine-waves" title="Permanent link">&para;</a></h2>
<p><img alt="Water Simulation Sine Waves" src="../images/component-simulation-sine-waves.PNG" /></p>
<p>Besides the dynamic waves, we can also have overlapping sine waves. We can enable <strong><em>Sine Waves</em></strong> under the <strong>Simulation Properties</strong> in the water component inspector.</p>
<p><img alt="Water Simulation Sine Wave Properties" src="../images/component-simulation-sine-waves-properties.PNG" /></p>
<p>For each sine wave, we can set its:</p>
<ul>
<li>Amplitude: The height from the water's rest position to the wave crest.</li>
<li>Length: The crest-to-crest distance between sine waves in units.</li>
<li>Velocity: The distance the crest moves in units per second.</li>
<li>Offset: The starting phase of the sine wave.</li>
</ul>
<div style='position:relative; padding-bottom:calc(52.19% + 44px)'><iframe src='https://gfycat.com/ifr/PoshBarrenGalapagostortoise' frameborder='0' scrolling='no' width='100%' height='100%' style='position:absolute;top:0;left:0;' allowfullscreen></iframe></div>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../water-visuals/" title="Water Visuals" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Water Visuals
              </span>
            </div>
          </a>
        
        
          <a href="../water-size-animation/" title="Water Size Animation" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Water Size Animation
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2018-2022 Haydeludos - Game 2D Water Kit
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>